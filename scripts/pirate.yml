"Assignment_Pirate_Cannon":
  Type: Assignment
  Actions:
    On Assignment:
      - TRIGGER NAME:Proximity TOGGLE:True RADIUS:5
      - execute as server "npc select <npc.id>
      - execute as server "npc lookclose"
    On Unavailable:
      - CHAT "Arrrr, I be busy at this present moment."
    Interact Scripts:
     - 1 Greeting_pirate
'Greeting_pirate':
  Type: Interact
  Requirements: 
    Mode: All
  Steps:
    1:
      Chat Trigger:
        1:
            Trigger: /Regex:hi|HI|Hi|hey|Hey|HEY|Hello|hello|HELLO/ there! I'm ready for the big battle!
            Script:
              - ENGAGE
              - CHAT "Ahoy there matey! I see you arrrrr ready for the big battle!
              - WAIT 4
              - CHAT "Lets teach you how to load a cannon"
              - WAIT 4
              - CHAT "Here is a cannon I loaded me-self!"
              - WAIT 4
              - CHAT "Place 1 TNT next to the iron block in the front, this will be yar cannon ball"
              - WAIT 4
              - CHAT "Then place TNT in the water behind the cannon ball"
              - WAIT 4
              - CHAT "I'm leaving it up to you to figure out how many TNT you need to place for the perfect shot"
              - WAIT 4
              - CHAT "The more you place, the further the cannon ball will fly"
              - WAIT 4
              - CHAT "Now for the fun part! Press the button at the back to fire the cannon!"
              - WAIT 4
              - CHAT "Careful though! when TNT blows up it can hurt you, so steer clear!"
              - DISENGAGE
      Proximity Trigger:
        entry:
            Script:
              - IF "<FLAG.N:<player.name> || 0>" == "0" RUNTASK "arrrr" ELSE DISENGAGE
'arrrr':
  Type: Task
  Script:
    - ENGAGE
    - CHAT "Ahoy there matey! I see you arrrrr ready for the big battle!
    - WAIT 4
    - CHAT "Lets teach you how to load a cannon"
    - WAIT 4
    - CHAT "Here is a cannon I loaded me-self!"
    - WAIT 4
    - CHAT "Place 1 TNT next to the iron block in the front, this will be yar cannon ball"
    - WAIT 4
    - CHAT "Then place TNT in the water behind the cannon ball"
    - WAIT 4
    - CHAT "I'm leaving it up to you to figure out how many TNT you need to place for the perfect shot"
    - WAIT 4
    - CHAT "The more you place, the further the cannon ball will fly"
    - WAIT 4
    - CHAT "Now for the fun part! Press the button at the back to fire the cannon!"
    - WAIT 4
    - CHAT "Careful though! when TNT blows up it can hurt you, so steer clear!"
    - FLAG NPC <player.name>:1
    - DISENGAGE  